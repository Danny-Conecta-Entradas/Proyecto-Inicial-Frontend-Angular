<h1 class="header">Data List</h1>
@if (isLoading) {
    <spinner-widget class="spinner" />
}
<div class="table-block">
    <div class="options">
        <label-input
            class="filter"
            label="Filter"
            [(value)]="filterValue"
            placeholder="Type here any text to find rows that match"
            (input)="onFilterValueChange()"
        />
        <label-input
            class="file"
            label="Load CSV file "
            (change)="loadCSVFile($event)"
            type="file"
            accept="text/csv"
        />
    </div>
    <table-component class="table"
        [scrollable]="true"

        [items]="listData"

        [pagination]="true"

        [displayedColumns]="[
            {
                width: '10rem',
                name: 'Creation Date',
                keyName: 'creation_date',
                transformValue: formatDate,
            },
            {
                width: '10rem',
                name: 'Name',
                keyName: 'name',
            },
            {
                width: '10rem',
                name: 'DNI',
                keyName: 'dni',
            },
            {
                width: '10rem',
                name: 'Birth Date',
                keyName: 'birth_date',
                transformValue: formatDate,
            },
            {
                width: '75px',
                name: 'Photo',
                keyName: 'photo_url',
                type: 'image',
                imageOptions: {
                    width: 50,
                    height: 50,
                    placeholder: '/assets/placeholder-avatar.png',
                    style: {objectFit: 'contain', borderRadius: '50%', backgroundColor: '#000'},
                },
            },
        ]"

        [actionsColumn]="{name: 'Actions'}"
        [actions]="[
            {name: 'Edit', callback: editData.bind(this)},
        ]"
    />
</div>
